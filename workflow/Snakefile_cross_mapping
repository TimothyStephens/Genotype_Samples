from snakemake.utils import min_version
min_version("6.5")


configfile: "workflow/config.default.yaml"

report: "report/workflow.rst"


include: "rules/common.smk"
include: "rules/install_programs.smk"
include: "rules/ref.smk"
include: "rules/download.smk"
include: "rules/trimming.smk"
include: "rules/mapping.smk"
include: "rules/qc.smk"
include: "rules/cross-mapping.smk"

localrules:
	all,
	cross_mapping,


rule all:
	input:
		"results/{project}/project.done".format(project=config['project_name']),


rule cross_mapping:
	input:
		rules.multiqc_crossMapping.output,
		rules.plotting_cross_mapping_results.output.html,
	output:
		touch("results/{project}/project.done"),


